<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
	<h:head>
		<title>ThePCShop page</title>
		<h:outputStylesheet library="bootstrap" name="/css/bootstrap.min.css" />
		<h:outputStylesheet library="css" name="dashboard.css" />
	</h:head>
	<h:body>
	<nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Project name</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#">Products</a></li>            
            <li><a href="/viewcart.xhtml">Shopping cart</a></li>
            <li><a href="#">Contact us</a></li>
            <li><a href="#">About us</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search..." />
          </form>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <h:form>
          	 <ul class="nav nav-sidebar">
          	 <li class="active"><a href="#">Main page <span class="sr-only">(current)</span></a></li>
          	 	<ui:repeat value="#{supercategory.categoryArray}" var="category">
	            <li>
	            	<h:commandLink value="#{category.categoryName}" action="#{category.filterProducts(category.categoryName)}" update=":productsform:productstable" ajax="true"/>
	            </li>
	            </ui:repeat>
          </ul>
          </h:form>
         
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <h1 class="page-header">Our products</h1>
          <div class="table-responsive">
          	<h:form id="productsform">
	          	<h:dataTable id="productstable" value="#{supercategory.productArray}" var = "displayedproduct" class="table table-striped">
					<h:column>
						<h:graphicImage value="/productImageServlet?id=#{displayedproduct.productID}" width="100"/>
					</h:column>
		    		<h:column>
		    				<f:facet name="header">Product Name</f:facet>
		    				<h:commandLink action="catalogue" value="#{displayedproduct.name}">
		    					<f:setPropertyActionListener target="#{productbean.selectedProduct}" value="#{displayedproduct}" />
		    				</h:commandLink>
		    		</h:column>
		    		<h:column>
		    				<f:facet name="header">Product Category</f:facet>
		    				<h:outputText value="#{displayedproduct.categoryName}"/>
		    		</h:column>
		    		<h:column>
		    				<f:facet name="header">Product Description</f:facet>
		    				<h:outputText value="#{displayedproduct.description}"/>
		    		</h:column>
		    		<h:column>
		    				<f:facet name="header">Product Price</f:facet>
		    				<h:outputText value="#{displayedproduct.price}" />
		    		</h:column>
	   			</h:dataTable>
	   		</h:form>
          </div>
          </div>

          <h2 class="sub-header">Section title</h2>
          
        </div>
      </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    
	</h:body>
</html>